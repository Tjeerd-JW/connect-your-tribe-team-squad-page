{% render 'partials/head.liquid', title: 'Squad page' %}

<main>
  <h1>Squad tijdlijn</h1>

   <form class="filters">

    {% comment %} SEIZOEN {% endcomment %}
    <label for="select-season"></label>
    <select name="season" id="select-season">
      <option value="">Kies een seizoen</option>
      <option value="winter" {% if activeSeason == 'winter' %}selected{% endif %}>Winter</option>
      <option value="lente" {% if activeSeason == 'lente' %}selected{% endif %}>Lente</option>
      <option value="zomer" {% if activeSeason == 'zomer' %}selected{% endif %}>Zomer</option>
      <option value="herfst" {% if activeSeason == 'herfst' %}selected{% endif %}>Herfst</option>
    </select>

    {% comment %} HOBBY {% endcomment %}
    <label for="select-hobby"></label>
    <select name="hobby" id="select-hobby">
      <option value="">Kies een hobby</option>
      <option value="chillen" {% if activeHobby == 'chillen' %}selected{% endif %}>Chillen</option>
      <option value="coden" {% if activeHobby == 'coden' %}selected{% endif %}>Coden</option>
      <option value="dammen" {% if activeHobby == 'dammen' %}selected{% endif %}>Dammen</option>
      <option value="festivals" {% if activeHobby == 'festivals' %}selected{% endif %}>Festivals</option>
      <option value="fitness" {% if activeHobby == 'fitness' %}selected{% endif %}>Fitness</option>
      <option value="gamen" {% if activeHobby == 'gamen' %}selected{% endif %}>Gamen</option>
      <option value="haken" {% if activeHobby == 'haken' %}selected{% endif %}>Haken</option>
      <option value="lezen" {% if activeHobby == 'lezen' %}selected{% endif %}>Lezen</option>
      <option value="muziek" {% if activeHobby == 'muziek' %}selected{% endif %}>Muziek</option>
      <option value="schaken" {% if activeHobby == 'schaken' %}selected{% endif %}>Schaken</option>
      <option value="sporten" {% if activeHobby == 'sporten' %}selected{% endif %}>Sporten</option>
      <option value="uitgaan" {% if activeHobby == 'uitgaan' %}selected{% endif %}>Uitgaan</option>
    </select>

    {% comment %} VIBE {% endcomment %}
    <label for="select-vibe"></label>
    
    <select name="vibes" id="select-vibe">
      <option value="">Kies een vibe</option>
      <option value="ğŸ§Œ" {% if activeVibes == 'ğŸ§Œ' %}selected{% endif %}>ğŸ§Œ</option>
      <option value="ğŸ—" {% if activeVibes == 'ğŸ—' %}selected{% endif %}>ğŸ—</option>
      <option value="â¤ï¸" {% if activeVibes == 'â¤ï¸' %}selected{% endif %}>â¤ï¸</option>
      <option value="ğŸ«¡" {% if activeVibes == 'ğŸ«¡' %}selected{% endif %}>ğŸ«¡</option>
      <option value="ğŸ¤‘" {% if activeVibes == 'ğŸ¤‘' %}selected{% endif %}>ğŸ¤‘</option>
      <option value="ğŸ‘€" {% if activeVibes == 'ğŸ‘€' %}selected{% endif %}>ğŸ‘€</option>
      <option value="ğŸ¦§" {% if activeVibes == 'ğŸ¦§' %}selected{% endif %}>ğŸ¦§</option>
      <option value="ğŸª¤" {% if activeVibes == 'ğŸª¤' %}selected{% endif %}>ğŸª¤</option>
      <option value="ğŸ«§" {% if activeVibes == 'ğŸ«§' %}selected{% endif %}>ğŸ«§</option>
      <option value="ğŸ’…" {% if activeVibes == 'ğŸ’…' %}selected{% endif %}>ğŸ’…</option>
    </select>
  </form>

  <section class="timeline" style="--total-months:{{  totalMonths  }}">
    <ol class="people-line">
      {% for person in persons %}
        <li
          class="person-list-item"
          style="
            --favo-color:{{ person.fav_color }};
            --month-index:{{ person.maand_index }};
            --stack-index:{{  person.stack_index }};
          "
        >
          <a href="/person/{{ person.id }}">
            <img
              class="person-img"
              loading="lazy"
              {% if person.mugshot %}
                src="{{'https://fdnd.directus.app/assets/' | append:  person.mugshot | append:'?width=500' }}"
              {% else %}
                src="{{ person.avatar }}"
              {% endif %}
              alt=" {{ person.name }}"
            >
            {{ person.name }}
          </a>
          <p>
            {{ person.birthdate | date: '%d' }}
          </p>
        </li>
      {% endfor %}
    </ol>
    <ol class="date-line">
      {% for month in months %}
        <li class="date-list-item" style="--month-index:{{ month.month_index }};">
          <p>
            {{ month.month_name }}
          </p>
        </li>
      {% endfor %}
    </ol>
    <ol class="date-line years">
      {% for year in years %}
        <li style="--year-index:{{ year.year_index }}" class="date-list-item item-year">
          <p>
            {{ year.year }}
          </p>
        </li>
      {% endfor %}
    </ol>
  </section>

  {% comment %}
    {% for month in months %}
     <p>

     {{ date: month.month }}
       {{ month.month }}
       {{ month.year }}
     </p>
    {% endfor %}
  {% endcomment %}
  <h2>Huidige berichten</h2>

  {% for message in messages %}
    <p>{{ message.from }}: {{ message.text }} @{{ message.created | date: '%d-%m-%Y %H:%M' }}</p>
  {% else %}
    <p>Er zijn nog geen berichten voor dit team.</p>
  {% endfor %}

  <h2>Voeg een bericht toe</h2>
  <form method="post" action="/">
    <label>
      Naam:
      <input type="text" name="from" required>
    </label>
    <label>
      Bericht:
      <textarea name="text" required></textarea>
    </label>
    <button type="submit">Verstuur</button>
  </form>
</main>

{% render 'partials/foot.liquid', squads: squads %}
